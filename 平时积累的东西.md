# Top
- [dom](#dom)
- [Object](#object)
- [其他](#其他)

## dom

### 

````js
 var all = document.querySelectorAll("input#cate,input#depart,button.btn")
```

### 类数组对象转化为真正的 javascript 数组(NodeList)

```js
// jQuery
$.makeArray(arrayLike);

// Native
Array.prototype.slice.call(arrayLike);

// ES6-way
Array.from(arrayLike);
```

### DOMContentLoaded 事件

```js
// jQuery
$(document).ready(eventHandler);

// Native
// 检测 DOMContentLoaded 是否已完成
if (document.readyState === "complete" || document.readyState !== "loading") {
  eventHandler();
} else {
  document.addEventListener("DOMContentLoaded", eventHandler);
}
```

### style 与 setAttribute

```js
imgsArray[0].style.src = "./img/wait.png"; //错误
imgsArray[i].setAttribute("src", "./img/wait.png"); //正确
```

### contains

判断 node 元素内部是否含有 otherNode 节点

```js
node.contains(otherNode);
var isTure = document.body.contains(document.querySelector("div"));
```

### matches

如果元素被指定的选择器字符串选择，**Element.matches()**方法返回 true;否则返回 false。有一些浏览器使用前缀, 在非标准名称 matchesSelector () 下实现了这个方法!

#### 语法

```js
let result = element.matches(selectorString);
```

* result 的值为 true 或 false.

* selectorString 是个 css 选择器字符串.

**[⬆ 回到顶部](#Top)**

## Object

### isPlainObject
````js
/**
 * 
 * @param {any} obj 
 * @returns {boolean} 判断传入的参数是否是一个朴素对象
 */
function isPlainObject(obj) {
  if (typeof obj !== 'object' || obj === null) return false

  let proto = obj
  while (Object.getPrototypeOf(proto) !== null) {
    proto = Object.getPrototypeOf(proto)
  }

  return Object.getPrototypeOf(obj) === proto
}

````
> `obj.hasOwnProperty(prop)`,返回一个布尔值，指示对象自身属性中是否具有指定的属性

### instanceof 

instanceof 运算符用来测试一个对象在其原型链中是否存在一个构造函数的 prototype 属性。

````js
/**
 * 
 * @param {object} 要检查的对象
 * @param {constructor} 某个构造函数
 */

object instanceof constructor
````
### _extend

 ````js
 var _extend = function (option, opt) {
  if (typeof (opt) != 'object' || !opt) {
    return option;
  }
  for (var property in opt) {
    option[property] = opt[property];
  }
  return option;
};
 ````

### 对象属性的链式访问

```js
var obj = {
  name: "Carrot",
  for: "Max",
  details: {
    color: "orange",
    size: 12
  }
};

console.log(obj.details.color); // orange
console.log(obj["details"]["color"]); //orange
```

### 迭代器
- forEach方法为每个数组元素指定执行的方法，没有返回值且无法跳出循环；
- every为数组的每个元素添加执行的方法，如果全部都返回ture则返回true；（短路运算）
- some为数组中每一项添加执行的方法，只要有任意一项结果是true则返回true；（短路运算）
- filter为数组没一项添加执行的方法，将所有返回为true的项组成新数组并返回；（根据callback的返回值判断是否保留该元素，true留，false不留）
- map对数组的每一项执行指定的方法，返回由每次调用结果组成的数组

**map 方法与 forEach 方法区别**
> map 方法重新生成了一个数组并返回，forEach 没有

### 数组循环添加

```js
  arrOfJson.push(arrOfJson.shift());
  arrOfJson.unshift(arrOfJson.pop());
```



**[⬆ 回到顶部](#Top)**
## 日期

### 获取 AddDayCount 天后的日期

```js
//setTime以毫秒数设置日期，会改变整个日期
var dd = new Date();
dd.setTime(dd.getTime() + AddDayCount * 24 * 60 * 60 * 1000);
```

## 其他

### 从全局捕获错误

```js
window.onerror = function(
  errMsg,
  scriptURI,
  lineNumber,
  columnNumber,
  errorObj
) {
  setTimeout(function() {
    var rst = {
      "错误信息：": errMsg,
      "出错文件：": scriptURI,
      "出错行号：": lineNumber,
      "出错列号：": columnNumber,
      "错误详情：": errorObj
    };

    alert(JSON.stringify(rst, null, 10));
  });
};
```

**[⬆ 回到顶部](#Top)**
