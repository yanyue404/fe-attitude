<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>工程化 | 我的前端态度</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="记录自己的学习考古，会前端真的可以“为所欲为”maybe">
    
    <link rel="preload" href="/fe-attitude/assets/css/0.styles.a2dfb246.css" as="style"><link rel="preload" href="/fe-attitude/assets/js/app.f3bd0e5c.js" as="script"><link rel="preload" href="/fe-attitude/assets/js/2.f587624f.js" as="script"><link rel="preload" href="/fe-attitude/assets/js/10.45a251b1.js" as="script"><link rel="prefetch" href="/fe-attitude/assets/js/11.ede405fc.js"><link rel="prefetch" href="/fe-attitude/assets/js/12.638c5d8a.js"><link rel="prefetch" href="/fe-attitude/assets/js/13.3da98e8b.js"><link rel="prefetch" href="/fe-attitude/assets/js/14.32af641a.js"><link rel="prefetch" href="/fe-attitude/assets/js/15.72ffbcfb.js"><link rel="prefetch" href="/fe-attitude/assets/js/16.6f84d633.js"><link rel="prefetch" href="/fe-attitude/assets/js/17.19384767.js"><link rel="prefetch" href="/fe-attitude/assets/js/18.886f67b6.js"><link rel="prefetch" href="/fe-attitude/assets/js/19.b34b63b7.js"><link rel="prefetch" href="/fe-attitude/assets/js/20.c99362ad.js"><link rel="prefetch" href="/fe-attitude/assets/js/21.c0b23357.js"><link rel="prefetch" href="/fe-attitude/assets/js/22.d67a05d5.js"><link rel="prefetch" href="/fe-attitude/assets/js/23.5013bca0.js"><link rel="prefetch" href="/fe-attitude/assets/js/24.725209f1.js"><link rel="prefetch" href="/fe-attitude/assets/js/25.7625d8e9.js"><link rel="prefetch" href="/fe-attitude/assets/js/26.019c4f49.js"><link rel="prefetch" href="/fe-attitude/assets/js/27.1c5ceb67.js"><link rel="prefetch" href="/fe-attitude/assets/js/28.b3a48825.js"><link rel="prefetch" href="/fe-attitude/assets/js/29.abb29e6e.js"><link rel="prefetch" href="/fe-attitude/assets/js/3.234a60ba.js"><link rel="prefetch" href="/fe-attitude/assets/js/30.6ab3e86c.js"><link rel="prefetch" href="/fe-attitude/assets/js/31.3f265010.js"><link rel="prefetch" href="/fe-attitude/assets/js/32.f101852d.js"><link rel="prefetch" href="/fe-attitude/assets/js/4.19cc48a7.js"><link rel="prefetch" href="/fe-attitude/assets/js/5.bf66075b.js"><link rel="prefetch" href="/fe-attitude/assets/js/6.63779c96.js"><link rel="prefetch" href="/fe-attitude/assets/js/7.4f177a7d.js"><link rel="prefetch" href="/fe-attitude/assets/js/8.fa2679d0.js"><link rel="prefetch" href="/fe-attitude/assets/js/9.ac87c670.js">
    <link rel="stylesheet" href="/fe-attitude/assets/css/0.styles.a2dfb246.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-attitude/" class="home-link router-link-active"><!----> <span class="site-name">我的前端态度</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="构建知识体系" class="dropdown-title"><span class="title">构建知识体系</span> <span class="arrow down"></span></button> <button type="button" aria-label="构建知识体系" class="mobile-dropdown-title"><span class="title">构建知识体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-attitude/fe/self-check.html" class="nav-link">
  自检
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/html.html" class="nav-link">
  Html
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/javascript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/typescript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/write.html" class="nav-link">
  手写代码
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/console.html" class="nav-link">
  输出结果
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/design.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/browser.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/network.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/algorithm.html" class="nav-link">
  算法
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/react.html" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/node.html" class="nav-link">
  Node
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/skill.html" class="nav-link">
  编程技巧
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/engineering.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  工程化
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专题学习计划" class="dropdown-title"><span class="title">专题学习计划</span> <span class="arrow down"></span></button> <button type="button" aria-label="专题学习计划" class="mobile-dropdown-title"><span class="title">专题学习计划</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          正则表达式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/113" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则手记——语法篇
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/245" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则手记——方法篇
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/230" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则手记——实例篇
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          前端常见需求的解决方案
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/248" target="_blank" rel="noopener noreferrer" class="nav-link external">
  玩转异步
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          组件库源码学习课
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/250" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vant2 popup 源码学习
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/268" target="_blank" rel="noopener noreferrer" class="nav-link external">
  跟着 Vant Dialog 学习函数调用使用组件
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Vue 源码解读
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/274" target="_blank" rel="noopener noreferrer" class="nav-link external">
  探索 Vue.js 内部运行机制
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="使用资源" class="dropdown-title"><span class="title">使用资源</span> <span class="arrow down"></span></button> <button type="button" aria-label="使用资源" class="mobile-dropdown-title"><span class="title">使用资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          推荐资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-attitude/use/website.html" class="nav-link">
  在线工具
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/use/tutorial.html" class="nav-link">
  在线教程
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/use/repos.html" class="nav-link">
  前端库与框架
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/use/articles.html" class="nav-link">
  优秀文章
</a></li></ul></li><li class="dropdown-item"><h4>
          打造舒适、高效、时尚的前端开发环境
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发环境的搭建（含 Chrome 配置）
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues?q=is%3Aissue+is%3Aopen+in%3Atitle+git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git 协作
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/42" target="_blank" rel="noopener noreferrer" class="nav-link external">
  玩好 Terminal 终端 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/185" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VS Code 编辑器配置 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/204" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Whistle 代理抓包 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues?q=is%3Aissue+is%3Aopen+in%3Atitle+node" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Node.js 相关
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/278" target="_blank" rel="noopener noreferrer" class="nav-link external">
  拥抱 AI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-attitude/tools/format-Markdown.html" class="nav-link">
  Markdown 格式化工具
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/tools/docx-to-Html.html" class="nav-link">
  docx 转 html
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/tools/regex.html" class="nav-link">
  正则表达式生成器
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的 Reops" class="dropdown-title"><span class="title">我的 Reops</span> <span class="arrow down"></span></button> <button type="button" aria-label="我的 Reops" class="mobile-dropdown-title"><span class="title">我的 Reops</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          原创作品
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/node-crawler" target="_blank" rel="noopener noreferrer" class="nav-link external">
  node 爬虫自用工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/beyond-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  beyond-ui
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/dev-admin/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  用于开发的管理工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/nuxt-issue-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub Issue 博客静态站点生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/build-my-own-extension" target="_blank" rel="noopener noreferrer" class="nav-link external">
  油猴脚本 &amp; 浏览器扩展
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/vscode-extension-ts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VS Code 快速语音笔记插件
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Npm
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/rainbow-shared" target="_blank" rel="noopener noreferrer" class="nav-link external">
  rainbow 的 实用函数
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/issues2md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Export Github Issues to markdown file
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          开源项目文档（Fork)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://yanyue404.github.io/vant/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant 组件库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/element/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element 组件库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/vue-design/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue 技术内幕
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/vue2/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue 2 官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/vue-template-compiler-playground/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue 模板编译器 Playground
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          其他兴趣
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://yanyue404.github.io/mingdao/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  记录王明道先生的文字
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/cook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  How to Cook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/yanyue404/fe-attitude" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="构建知识体系" class="dropdown-title"><span class="title">构建知识体系</span> <span class="arrow down"></span></button> <button type="button" aria-label="构建知识体系" class="mobile-dropdown-title"><span class="title">构建知识体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-attitude/fe/self-check.html" class="nav-link">
  自检
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/html.html" class="nav-link">
  Html
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/javascript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/typescript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/write.html" class="nav-link">
  手写代码
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/console.html" class="nav-link">
  输出结果
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/design.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/browser.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/network.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/algorithm.html" class="nav-link">
  算法
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/react.html" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/node.html" class="nav-link">
  Node
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/skill.html" class="nav-link">
  编程技巧
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/fe/engineering.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  工程化
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专题学习计划" class="dropdown-title"><span class="title">专题学习计划</span> <span class="arrow down"></span></button> <button type="button" aria-label="专题学习计划" class="mobile-dropdown-title"><span class="title">专题学习计划</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          正则表达式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/113" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则手记——语法篇
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/245" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则手记——方法篇
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/230" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则手记——实例篇
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          前端常见需求的解决方案
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/248" target="_blank" rel="noopener noreferrer" class="nav-link external">
  玩转异步
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          组件库源码学习课
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/250" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vant2 popup 源码学习
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/268" target="_blank" rel="noopener noreferrer" class="nav-link external">
  跟着 Vant Dialog 学习函数调用使用组件
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Vue 源码解读
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/274" target="_blank" rel="noopener noreferrer" class="nav-link external">
  探索 Vue.js 内部运行机制
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="使用资源" class="dropdown-title"><span class="title">使用资源</span> <span class="arrow down"></span></button> <button type="button" aria-label="使用资源" class="mobile-dropdown-title"><span class="title">使用资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          推荐资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-attitude/use/website.html" class="nav-link">
  在线工具
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/use/tutorial.html" class="nav-link">
  在线教程
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/use/repos.html" class="nav-link">
  前端库与框架
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/use/articles.html" class="nav-link">
  优秀文章
</a></li></ul></li><li class="dropdown-item"><h4>
          打造舒适、高效、时尚的前端开发环境
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发环境的搭建（含 Chrome 配置）
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues?q=is%3Aissue+is%3Aopen+in%3Atitle+git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git 协作
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/42" target="_blank" rel="noopener noreferrer" class="nav-link external">
  玩好 Terminal 终端 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/185" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VS Code 编辑器配置 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/204" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Whistle 代理抓包 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues?q=is%3Aissue+is%3Aopen+in%3Atitle+node" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Node.js 相关
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues/278" target="_blank" rel="noopener noreferrer" class="nav-link external">
  拥抱 AI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-attitude/tools/format-Markdown.html" class="nav-link">
  Markdown 格式化工具
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/tools/docx-to-Html.html" class="nav-link">
  docx 转 html
</a></li><li class="dropdown-subitem"><a href="/fe-attitude/tools/regex.html" class="nav-link">
  正则表达式生成器
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的 Reops" class="dropdown-title"><span class="title">我的 Reops</span> <span class="arrow down"></span></button> <button type="button" aria-label="我的 Reops" class="mobile-dropdown-title"><span class="title">我的 Reops</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          原创作品
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/blog/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/node-crawler" target="_blank" rel="noopener noreferrer" class="nav-link external">
  node 爬虫自用工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/beyond-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  beyond-ui
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/dev-admin/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  用于开发的管理工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/nuxt-issue-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub Issue 博客静态站点生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/build-my-own-extension" target="_blank" rel="noopener noreferrer" class="nav-link external">
  油猴脚本 &amp; 浏览器扩展
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/vscode-extension-ts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VS Code 快速语音笔记插件
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Npm
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/yanyue404/rainbow-shared" target="_blank" rel="noopener noreferrer" class="nav-link external">
  rainbow 的 实用函数
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/issues2md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Export Github Issues to markdown file
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          开源项目文档（Fork)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://yanyue404.github.io/vant/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant 组件库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/element/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element 组件库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/vue-design/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue 技术内幕
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/vue2/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue 2 官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yanyue404.github.io/vue-template-compiler-playground/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue 模板编译器 Playground
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          其他兴趣
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://yanyue404.github.io/mingdao/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  记录王明道先生的文字
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yanyue404/cook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  How to Cook
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/yanyue404/fe-attitude" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工程化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-attitude/fe/engineering.html#webpack-常见-loader-和-plugin-有哪些-二者的区别是什么" class="sidebar-link">webpack 常见 loader 和 plugin 有哪些？二者的区别是什么？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#常见-loader" class="sidebar-link">常见 loader</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#常见-plugin" class="sidebar-link">常见 plugin</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#二者的区别" class="sidebar-link">二者的区别</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#webpack-怎么写一个-plugin-和-loader" class="sidebar-link">webpack 怎么写一个 plugin 和 loader</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#babel-的原理" class="sidebar-link">Babel 的原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#webpack-如何解决开发时的跨域问题" class="sidebar-link">webpack 如何解决开发时的跨域问题？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#工作原理" class="sidebar-link">工作原理</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#跨域" class="sidebar-link">跨域</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#webpack-如何实现-tree-shaking" class="sidebar-link">webpack 如何实现 tree-shaking？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#是什么" class="sidebar-link">是什么</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#怎么做" class="sidebar-link">怎么做</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#webpack-热更新原理" class="sidebar-link">webpack 热更新原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#如何利用-webpack-来优化前端性能" class="sidebar-link">如何利用 webpack 来优化前端性能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#如何提高-webpack-构建速度" class="sidebar-link">如何提高 webpack 构建速度？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#webpack-能做哪些性能优化" class="sidebar-link">webpack 能做哪些性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#webpack-模块加载原理" class="sidebar-link">webpack 模块加载原理</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#webpack-的构建流程是什么" class="sidebar-link">webpack 的构建流程是什么</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#webpack-的分包策略" class="sidebar-link">webpack 的分包策略</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#webpack-与-vite-的区别是什么" class="sidebar-link">webpack 与 vite 的区别是什么？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#webpack-和-rollup-的区别" class="sidebar-link">webpack 和 rollup 的区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#webpack-怎么配置多页应用" class="sidebar-link">webpack 怎么配置多页应用？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#webpack-如何支持无限多页面呢" class="sidebar-link">webpack 如何支持无限多页面呢？</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#swc、esbuild-是什么" class="sidebar-link">swc、esbuild 是什么？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#swc" class="sidebar-link">swc</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#esbuild" class="sidebar-link">esbuild</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#谈谈对于工程化的理解" class="sidebar-link">谈谈对于工程化的理解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#重要的几个概念" class="sidebar-link">重要的几个概念</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#目录" class="sidebar-link">目录</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#性能优化" class="sidebar-link">性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#如何在-h5-和小程序项目中计算白屏时间和首屏时间" class="sidebar-link">如何在 H5 和小程序项目中计算白屏时间和首屏时间</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#前端项目如何找出性能瓶颈" class="sidebar-link">前端项目如何找出性能瓶颈</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#前端基建可以做哪些事情" class="sidebar-link">前端基建可以做哪些事情？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#monorepo-vs-multirepo" class="sidebar-link">Monorepo vs Multirepo</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#pnpm" class="sidebar-link">pnpm</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#谈谈微前端" class="sidebar-link">谈谈微前端</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#前端监控" class="sidebar-link">前端监控</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#什么时候需要监控" class="sidebar-link">什么时候需要监控</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#性能数据采集" class="sidebar-link">性能数据采集</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#错误数据采集" class="sidebar-link">错误数据采集</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#数据上报" class="sidebar-link">数据上报</a></li><li class="sidebar-sub-header"><a href="/fe-attitude/fe/engineering.html#前端监控部署" class="sidebar-link">前端监控部署</a></li></ul></li><li><a href="/fe-attitude/fe/engineering.html#nginx" class="sidebar-link">Nginx</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe-attitude/fe/engineering.html#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="工程化"><a href="#工程化" class="header-anchor">#</a> 工程化</h1> <h2 id="webpack-常见-loader-和-plugin-有哪些-二者的区别是什么"><a href="#webpack-常见-loader-和-plugin-有哪些-二者的区别是什么" class="header-anchor">#</a> webpack 常见 loader 和 plugin 有哪些？二者的区别是什么？</h2> <h3 id="常见-loader"><a href="#常见-loader" class="header-anchor">#</a> 常见 loader</h3> <p>在 webpack 文档里写了：</p> <p><a href="https://webpack.js.org/loaders/" target="_blank" rel="noopener noreferrer">Loaders | webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>你可以记住：</p> <ul><li><code>babel-loader</code> 把 JS/TS（ES6） 变成 JS（ES5）</li> <li><code>ts-loader</code> 把 TS 变成 JS，<strong>并提示类型错误</strong></li> <li><code>markdown-loader</code> 把 markdown 变成 html</li> <li><code>html-loader</code> 把 html 变成 JS 字符串</li> <li><code>sass-loader</code> 把 SASS/SCSS 变成 CSS</li> <li><code>css-loader</code> 把 CSS 变成 JS 字符串</li> <li><code>style-loader</code> 把 JS 字符串变成 style 标签</li> <li><code>postcss-loader</code> 把 CSS 变成更优化的 CSS</li> <li><code>vue-loader</code> 把单文件组件（SFC）变成 JS 模块</li> <li><code>file-loader</code> 把文件输出到一个文件夹中，在代码中通过相对 URL 去引用输出的文件</li> <li><code>url-loader</code> 和 file-loader 类似，但是能在文件很小的情况下以 base64 的方式把文件内容注入到代码中去</li> <li><code>eslint-loader</code> 通过 ESLint 检查 JavaScript 代码规范，<strong>并提示类型错误</strong></li> <li><code>thread-loader</code> 用于多进程打包</li> <li><code>source-map-loader</code> 加载额外的 Source Map 文件，以方便代码调试</li></ul> <h3 id="常见-plugin"><a href="#常见-plugin" class="header-anchor">#</a> 常见 plugin</h3> <p>也在 webpack 文档里写了：</p> <p><a href="https://webpack.js.org/plugins/" target="_blank" rel="noopener noreferrer">Plugins | webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>你可以记住这些：</p> <ul><li><code>UglifyJsPlugin</code> 压缩和混淆代码</li> <li><code>html-webpack-plugin</code> 用于创建 HTML 页面并自动引入 JS 和 CSS</li> <li><code>clean-webpack-plugin</code> 用于清理之前打包的残余文件</li> <li><code>mini-css-extract-plugin</code> 用于将 JS 中的 CSS 抽离成单独的 CSS 文件</li> <li><code>HotModuleReplacementPlugin</code> 热跟新</li> <li><code>SplitChunksPlugin</code> 用于代码分包（Code Split）</li> <li><code>DllPlugin</code> + <code>DllReferencePlugin</code> 用于避免大依赖被频繁重新打包，大幅降低打包时间
<ul><li><a href="https://segmentfault.com/a/1190000016567986" target="_blank" rel="noopener noreferrer">webpack 使用-详解 DllPlugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><code>CommonsChunkPlugin</code> 提高打包效率，将第三方库和业务代码分开打包</li> <li><code>DefinePlugin</code> 用于在 webpack config 里添加全局变量</li> <li><code>copy-webpack-plugin</code> 用于拷贝静态文件到 dist</li> <li><code>webpack-bundle-analyzer</code> 代码分析；</li></ul> <h3 id="二者的区别"><a href="#二者的区别" class="header-anchor">#</a> 二者的区别</h3> <ul><li>loader 是文件加载器，让 webpack 拥有加载和解析非 JavaScript 文件的能力
<ul><li>功能：能够对文件进行编译、优化、混淆（压缩）等，比如 babel-loader / vue-loader</li> <li>运行时机：在创建最终产物之前运行</li></ul></li> <li>plugin 是 webpack 插件（这句废话也很重要）
<ul><li>功能：能实现更多功能，比如定义全局变量、Code Split、加速编译等 （基于事件机制工作，会监听 webpack 打包过程中的某些事件，执行改变输出结果的任务）</li> <li>运行时机：在整个打包过程（以及前后）都能运行</li></ul></li></ul> <h2 id="webpack-怎么写一个-plugin-和-loader"><a href="#webpack-怎么写一个-plugin-和-loader" class="header-anchor">#</a> webpack 怎么写一个 plugin 和 loader</h2> <p><a href="https://github.com/woai3c/Front-end-articles/issues/6" target="_blank" rel="noopener noreferrer">实现一个 webpack loader 和 webpack plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="babel-的原理"><a href="#babel-的原理" class="header-anchor">#</a> Babel 的原理</h2> <blockquote><p>查看 AST https://astexplorer.net/</p></blockquote> <p>Babel 是 JavaScript 编译器：他能让开发者在开发过程中，直接使用各类方言（如 TS、Flow、JSX）或新的语法特性，而不需要考虑运行环境，因为 Babel 可以做到按需转换为低版本支持的代码；Babel 内部原理是将 JS 代码转换为 AST，对 AST 应用各种插件进行处理，最终输出编译后的 JS 代码。</p> <p><strong>Babel 编译流程</strong></p> <p>三大步骤</p> <p><img src="/fe-attitude/assets/img/babel-complie.62437165.png" alt=""></p> <ol><li><p>解析阶段：Babel 默认使用  @babel/parser  将代码转换为 AST。解析一般分为两个阶段：词法分析和语法分析。</p> <ul><li>词法分析：对输入的字符序列做标记化(tokenization)操作。</li> <li>语法分析：处理标记与标记之间的关系，最终形成一颗完整的 AST 结构。</li></ul></li> <li><p>转换阶段：Babel 使用  @babel/traverse  提供的方法对 AST 进行深度优先遍历，调用插件对关注节点的处理函数，按需对 AST 节点进行增删改操作。</p></li> <li><p>生成阶段：Babel 默认使用  @babel/generator  将上一阶段处理后的 AST 转换为代码字符串。</p></li></ol> <h2 id="webpack-如何解决开发时的跨域问题"><a href="#webpack-如何解决开发时的跨域问题" class="header-anchor">#</a> webpack 如何解决开发时的跨域问题？</h2> <p>在开发时，我们的页面在 <code>localhost:8080</code>，JS 直接访问后端接口（如 <code>https://xiedaimala.com</code> 或 <code>http://localhost:3000</code>）会报跨域错误。</p> <p>为了解决这个问题，可以在 webpack.config.js 中添加如下配置：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://xiedaimala.com'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>此时，在 JS 中请求 <code>/api/users</code> 就会自动被代理到 <code>http://xiedaimala.com/api/users</code> 。</p> <p>如果希望请求中的 Origin 从 8080 修改为 xiedaimala.com，可以添加 <code>changeOrigin: true</code> 。</p> <p>如果要访问的是 HTTPS API，那么就需要配置 HTTPS 证书，否则会报错。</p> <p>不过，如果在 target 下面添加 <code>secure: false</code> ，就可以不配置证书且忽略 HTTPS 报错。</p> <h3 id="工作原理"><a href="#工作原理" class="header-anchor">#</a> 工作原理</h3> <p><code>proxy</code>工作原理实质上是利用<code>http-proxy-middleware</code>  这个<code>http</code>代理中间件，实现请求转发给其他服务器</p> <p>举个例子：</p> <p>在开发阶段，本地地址为<code>http://localhost:3000</code>，该浏览器发送一个前缀带有<code>/api</code>标识的请求到服务端获取数据，但响应这个请求的服务器只是将请求转发到另一台服务器中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">,</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://www.example.org'</span><span class="token punctuation">,</span> <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>

<span class="token comment">// http://localhost:3000/api/foo/bar -&gt; http://www.example.org/api/foo/bar</span>
</code></pre></div><h3 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h3> <p>在开发阶段， <code>webpack-dev-server</code>  会启动一个本地开发服务器，所以我们的应用在开发阶段是独立运行在  <code>localhost</code>的一个端口上，而后端服务又是运行在另外一个地址上</p> <p>所以在开发阶段中，由于浏览器同源策略的原因，当本地访问后端就会出现跨域请求的问题</p> <p>通过设置<code>webpack proxy</code>实现代理请求后，相当于浏览器与服务端中添加一个代理者</p> <p>当本地发送请求的时候，代理服务器响应该请求，并将请求转发到目标服务器，目标服务器响应数据后再将数据返回给代理服务器，最终再由代理服务器将数据响应给本地</p> <p><img src="https://static.vue-js.com/65b5e5c0-ace5-11eb-85f6-6fac77c0c9b3.png" alt=""></p> <p>在代理服务器传递数据给本地浏览器的过程中，两者同源，并不存在跨域行为，这时候浏览器就能正常接收数据</p> <p>注意：服务器与服务器之间请求数据并不会存在跨域行为，跨域行为是浏览器安全策略限制</p> <p><strong>参考文献</strong></p> <ul><li>https://vue3js.cn/interview/webpack/proxy.htm</li> <li>https://webpack.docschina.org/configuration/dev-server/#devserverproxy</li></ul> <h2 id="webpack-如何实现-tree-shaking"><a href="#webpack-如何实现-tree-shaking" class="header-anchor">#</a> webpack 如何实现 tree-shaking？</h2> <p><a href="https://webpack.js.org/guides/tree-shaking/#conclusion" target="_blank" rel="noopener noreferrer">Tree Shaking | webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://webpack.docschina.org/guides/tree-shaking/#conclusion" target="_blank" rel="noopener noreferrer">Tree Shaking | webpack 中文文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="是什么"><a href="#是什么" class="header-anchor">#</a> 是什么</h3> <p>tree-shaking 就是让没有用到的 JS 代码不打包，以减小包的体积。</p> <h3 id="怎么做"><a href="#怎么做" class="header-anchor">#</a> 怎么做</h3> <ol><li><p>怎么删</p> <ol><li>使用 ES Modules 语法（即 ES6 的 import 和 export 关键字）</li> <li>CommonJS 语法无法 tree-shaking（即 require 和 exports 语法）
<ul><li>需要给 bebel-loader 添加 <code>modules: false</code> 选项（避免 babel 将 js 自动编译为 CommonJS ）</li></ul></li> <li>引入的时候只引用需要的模块
<ul><li>要写 <code>import {cloneDeep} from 'lodash-es'</code> 因为方便 tree-shaking</li> <li>不要写 <code>import _ from 'lodash'</code> 因为会导致无法 tree-shaking 无用模块</li></ul></li></ol></li> <li><p>怎么不删：在 package.json 中配置 <code>sideEffects</code>，防止某些文件被删掉</p> <ol><li>比如我 import 了 x.js，而 x.js 只是添加了 <code>window.x</code> 属性，那么 x.js 就要放到 sideEffects 里</li> <li>比如所有被 import 的 CSS 都要放在 sideEffects 里</li></ol></li> <li><p>怎么开启：在 webpack config 中将 mode 设置为 production（开发环境没必要 tree-shaking）</p> <ul><li><code>mode: production</code> 给 webpack 加了非常多<a href="https://github.com/webpack/webpack/blob/f43047c4c2aa4b0a315328e4c34a319dc2662254/lib/config/defaults.js#L1125" target="_blank" rel="noopener noreferrer">优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul></li></ol> <p>原理： tree-shaking 通过静态分析，对代码进行扫描分析，经过词法分析、语法分析、AST 树等分析手段，识别未被引用的代码，标记为冗余代码，真正剔除操作一般是 uglifyjs 模块。</p> <h2 id="webpack-热更新原理"><a href="#webpack-热更新原理" class="header-anchor">#</a> webpack 热更新原理</h2> <p>webpack 在热更新模式下，启动服务后，服务端会与客户端建立一个长连接（websocket）。文件修改后，服务端会通过长链接向客户端推送一条消息，客户端收到后，会重新请求一个 js 文件，返回的 js 文件会调用 webpackHotUpdatehmr 方法，用于替换掉 <strong>webpack_modules</strong> 中的部分代码。</p> <ol><li>webpack-dev-server 启动本地服务，与 Client 建立长连接</li> <li>Webpack 监听文件修改，修改后通过长连接通知客户端；</li> <li>Client 重新请求文件，替换 <strong>webpack_modules</strong> 中对应部分</li></ol> <p>首先，介绍 webpack-dev-server:<br>
webpack-dev-server 主要包含了三个部分：<br>
1.webpack: 负责编译代码<br>
2.webpack-dev-middleware: 主要负责构建内存文件系统，把 webpack 的 OutputFileSystem 替换成 InMemoryFileSystem。同时作为 Express 的中间件拦截请求，从内存文件系统中把结果拿出来。<br>
3.express：负责搭建请求路由服务。</p> <p>其次，介绍工作流程:<br>
1.启动 dev-server，webpack 开始构建，在编译期间会向 entry 文件注入热更新代码；<br>
2.Client 首次打开后，Server 和 Client 基于 Socket 建立通讯渠道；<br>
3.修改文件，Server 端监听文件发送变动，webpack 开始编译，直到编译完成会触发&quot;Done&quot;事件；<br>
4.Server 通过 socket 发送消息告知 Client；<br>
5.Client 根据 Server 的消息（hash 值和 state 状态），通过 ajax 请求获取 Server 的 manifest 描述文件；<br>
6.Client 对比当前 modules tree ，再次发请求到 Server 端获取新的 JS 模块；<br>
7.Client 获取到新的 JS 模块后，会更新 modules tree 并替换掉现有的模块；<br>
8.最后调用 module.hot.accept() 完成热更新；</p> <h2 id="如何利用-webpack-来优化前端性能"><a href="#如何利用-webpack-来优化前端性能" class="header-anchor">#</a> 如何利用 webpack 来优化前端性能</h2> <p>webpack 做性能优化主要是考虑打包体积和打包速度。</p> <p>打包体积分析用 <code>webpack-bundle-analyzer</code> 插件，速度分析用：<code>speed-measure-webpack-plugin</code> 插件。</p> <ul><li><a href="https://github.com/yanyue404/blog/issues/241" target="_blank" rel="noopener noreferrer">从前端工程的角度进行性能优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="如何提高-webpack-构建速度"><a href="#如何提高-webpack-构建速度" class="header-anchor">#</a> 如何提高 webpack 构建速度？</h2> <p><a href="https://webpack.docschina.org/guides/build-performance/" target="_blank" rel="noopener noreferrer">构建性能 | webpack 中文文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol start="0"><li>speed-measure-webpack-plugin 分析构建时间</li> <li>externals 拆包采用 cdn 方式引入 vue, vue-router 及组件库</li> <li>使用 DllPlugin 将不常变化的 node_modules 代码提前打包，并复用，如 echarts 下选用的模块</li> <li>使用 thread-loader 进行多线程打包，加速耗时的 loader （例如 babel-loader）</li> <li>处于开发环境时，在 webpack config 中 使用 cache-loader 加速 Vue/Babel/TypeScript 编译开启缓存</li> <li>import 优化，运用这个插件（babel-plugin-dynamic-import-node）能在代码使用了 import 语法的情况下，大大提高代码的编译速度。</li> <li>处于生产环境时，关闭不必要的环节，比如可以关闭 source map</li> <li>网传的 HardSourceWebpackPlugin 已经一年多没更新了，谨慎使用</li></ol> <h2 id="webpack-能做哪些性能优化"><a href="#webpack-能做哪些性能优化" class="header-anchor">#</a> webpack 能做哪些性能优化</h2> <ol><li>压缩代码</li> <li>tree-shaking</li> <li>根据文件内容生成 hash 当作文件名，配合 CDN 做文件缓存</li> <li>分割代码，按需加载</li> <li>将第三方插件或公共代码单独提取出来打包</li></ol> <p><a href="https://juejin.cn/post/6844903651291447309" target="_blank" rel="noopener noreferrer">三十分钟掌握 Webpack 性能优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="webpack-模块加载原理"><a href="#webpack-模块加载原理" class="header-anchor">#</a> webpack 模块加载原理</h3> <p><a href="https://juejin.cn/post/6872354325553741838" target="_blank" rel="noopener noreferrer">深入了解 webpack 模块加载原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="webpack-的构建流程是什么"><a href="#webpack-的构建流程是什么" class="header-anchor">#</a> webpack 的构建流程是什么</h3> <p><a href="https://juejin.cn/post/6844904000169607175" target="_blank" rel="noopener noreferrer">webpack 构建流程分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="webpack-的分包策略"><a href="#webpack-的分包策略" class="header-anchor">#</a> webpack 的分包策略</h3> <p><a href="https://panjiachen.github.io/awesome-bookmarks/blog/webpack/webpack4-b.html" target="_blank" rel="noopener noreferrer">webpack 的分包策略<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="webpack-与-vite-的区别是什么"><a href="#webpack-与-vite-的区别是什么" class="header-anchor">#</a> webpack 与 vite 的区别是什么？</h2> <ol><li><p>开发环境区别</p> <ol><li><p>vite 自己实现 server，不对代码打包，充分利用浏览器对 <code>&lt;script type=module&gt;</code> 的支持</p> <ol><li><p>假设 main.js 引入了 vue</p></li> <li><p>该 server 会把 <code>import { createApp } from 'vue'</code> 改为 <code>import { createApp } from &quot;/node_modules/.vite/vue.js&quot;</code> 这样浏览器就知道去哪里找 vue.js 了</p></li></ol></li> <li><p>webpack-dev-server 常使用 babel-loader 基于内存打包，比 vite 慢很多很多很多</p> <ol><li>该 server 会把 vue.js 的代码（递归地）打包进 main.js</li></ol></li></ol></li> <li><p>生产环境区别</p> <ol><li><p>vite 使用 rollup + esbuild 来打包 JS 代码</p></li> <li><p>webpack 使用 babel 来打包 JS 代码，比 esbuild 慢很多很多很多</p> <ol><li>webpack 能使用 esbuild 吗？可以，你要自己配置（很麻烦）。</li></ol></li></ol></li> <li><p>文件处理时机</p> <ol><li><p>vite 只会在你请求某个文件的时候处理该文件</p></li> <li><p>webpack 会提前打包好 main.js，等你请求的时候直接输出打包好的 JS 给你</p></li></ol></li></ol> <p>目前已知 vite 的缺点有：</p> <ol><li><p>热更新常常失败，原因不清楚（F5, ctrl + R）</p></li> <li><p>有些功能 rollup 不支持，需要自己写 rollup 插件</p></li> <li><p>不支持非现代浏览器（浏览器需要支持<code>&lt;script type=module&gt;</code> ）</p></li></ol> <h2 id="webpack-和-rollup-的区别"><a href="#webpack-和-rollup-的区别" class="header-anchor">#</a> webpack 和 rollup 的区别</h2> <p>rollup 从设计之初就是面向 ES module 的，它诞生时 AMD、CMD、UMD 的格式之争还很火热，作者希望充分利用 ES module 机制，构建出结构扁平，性能出众的类库.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> resolve <span class="token keyword">from</span> <span class="token string">'rollup-plugin-node-resolve'</span>
<span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">'rollup-plugin-commonjs'</span>
<span class="token keyword">import</span> babel <span class="token keyword">from</span> <span class="token string">'rollup-plugin-babel'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">'src/index.js'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">'dist/bundle.js'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'test'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token string">'node_modules/**'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>webpack 致力于复杂 SPA 的模块化构建，优势在于：</p> <ol><li>通过 loader 处理各种各样的资源依赖</li> <li>HMR 模块热替换</li> <li>代码按需加载</li> <li>提取公共模块</li></ol> <p>rollup 致力于打造性能出众的类库，有如下优势：</p> <ol><li>编译出来的代码<code>可读性好</code></li> <li>rollup 打包后生成的 bundle 内容十分<code>干净</code>，没有什么多余的代码。相比 webpack(webpack 打包后会生成<strong>webpack_require</strong>等 runtime 代码)，rollup 拥有无可比拟的性能优势，这是由依赖处理方式决定的，<code>编译时依赖处理（rollup）自然比运行时依赖处理（webpack）性能更好</code></li> <li>对于 ES 模块依赖库，rollup 会静态分析代码中的 import，并将排除任何未实际使用的代码</li> <li>支持程序流分析，能更加正确的判断项目本身的代码是否有副作用(配合 tree-shaking)</li> <li>支持导出<code>es</code>模块文件（webpack 不支持导出 es 模块）</li></ol> <p>参考资料：</p> <ul><li><a href="https://zhuanlan.zhihu.com/p/75717476" target="_blank" rel="noopener noreferrer">【第九期】Rollup：下一代 ES 模块打包工具<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>http://www.caoyuanpeng.com/Webpack/rollup跟webpack打包的区别.html</li></ul> <h2 id="webpack-怎么配置多页应用"><a href="#webpack-怎么配置多页应用" class="header-anchor">#</a> webpack 怎么配置多页应用？</h2> <p>这是对应的 webpack config：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">app</span><span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">admin</span><span class="token operator">:</span> <span class="token string">'./src/admin.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'app'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'admin.html'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'admin'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>但是，这样配置会有一个「重复打包」的问题：假设 app.js 和 admin.js 都引入了 vue.js，那么 vue.js 的代码既会打包进 app.js，也会打包进 admin.js。我们需要使用 <code>optimization.splitChunks</code> 将共同依赖单独打包成 common.js（HtmlWebpackPlugin 会自动引入 common.js）。</p> <h3 id="webpack-如何支持无限多页面呢"><a href="#webpack-如何支持无限多页面呢" class="header-anchor">#</a> webpack 如何支持无限多页面呢？</h3> <p>写点 Node.js 代码不就实现了么？</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> filenames <span class="token operator">=</span> fs
  <span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span><span class="token string">'./src/pages'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> file<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> entries <span class="token operator">=</span> filenames<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>result<span class="token punctuation">,</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./src/pages/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> plugins <span class="token operator">=</span> filenames<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> name <span class="token operator">+</span> <span class="token string">'.html'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>entries
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>plugins<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="swc、esbuild-是什么"><a href="#swc、esbuild-是什么" class="header-anchor">#</a> swc、esbuild 是什么？</h2> <h3 id="swc"><a href="#swc" class="header-anchor">#</a> swc</h3> <p>实现语言：Rust</p> <p>功能：编译 JS/TS、打包 JS/TS</p> <p>优势：比 babel 快很多很多很多（20 倍以上）</p> <p>能否集成进 webpack：能</p> <p>使用者：Next.js、Parcel、Deno、Vercel、ByteDance、Tencent、Shopify……</p> <p>做不到：</p> <ol><li><p>对 TS 代码进行类型检查（用 tsc 可以）</p></li> <li><p>打包 CSS、SVG</p></li></ol> <h3 id="esbuild"><a href="#esbuild" class="header-anchor">#</a> esbuild</h3> <p>实现语言：Go</p> <p>功能：同上</p> <p>优势：比 babel 快很多很多很多很多很多很多（10~100 倍）</p> <p>能否集成进 webpack：能</p> <p>使用者：vite、vuepress、snowpack、umijs、blitz.js 等</p> <p>做不到：</p> <ol><li><p>对 TS 代码进行类型检查</p></li> <li><p>打包 CSS、SVG</p></li></ol> <h2 id="谈谈对于工程化的理解"><a href="#谈谈对于工程化的理解" class="header-anchor">#</a> 谈谈对于工程化的理解</h2> <p>前端工程化，其实是软件工程在前端方面的应用。什么是软件工程？百度百科的定义：</p> <p>软件工程是一门研究用工程化方法构建和维护有效的、使用的和高质量的软件的学科。</p> <p>换句话说，工程化的目的就是为了提升团队的开发效率。例如大家所熟悉的构建打包、性能优化、自动化部署等知识，都属于工程化的内容。</p> <h3 id="重要的几个概念"><a href="#重要的几个概念" class="header-anchor">#</a> 重要的几个概念</h3> <p>1、模块化：JS 的模块化、css 的模块化、资源的模块化（模块化是在文件层面上，对代码或资源的拆分）</p> <p>2、组件化：组件化是在设计层面上，对 UI（用户界面）的拆分，组件化更重要是一种分治思想，封装组件需要注意组件之间的依赖关系（继承、扩展、嵌套）</p> <p>3、规范化：编码规范、前后端接口规范、文档规范、组件规范、git 分支管理、commit 描述规范...</p> <p>4、自动化：雪碧图、持续集成、自动化构建、自动化部署、自动化测试（任何简单机械的重复劳动都应该让机器去完成）</p> <h3 id="目录"><a href="#目录" class="header-anchor">#</a> 目录</h3> <ol><li>技术选型：如何进行技术选型？</li> <li>统一规范</li> <li>模块化、组件化</li> <li>构建工具</li> <li>自动化</li> <li>性能优化</li> <li>监控</li> <li>重构</li> <li>项目拆分</li> <li>测试</li> <li>创造性</li></ol> <p>参考</p> <ul><li><a href="https://github.com/yanyue404/blog/issues/244" target="_blank" rel="noopener noreferrer">yanyue404 - 对前端工程化的理解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>https://woai3c.gitee.io/introduction-to-front-end-engineering/</li></ul> <h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <blockquote><p>我的优化策略：<a href="https://github.com/yanyue404/blog/issues/241" target="_blank" rel="noopener noreferrer">从前端工程的角度进行性能优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="如何在-h5-和小程序项目中计算白屏时间和首屏时间"><a href="#如何在-h5-和小程序项目中计算白屏时间和首屏时间" class="header-anchor">#</a> 如何在 H5 和小程序项目中计算白屏时间和首屏时间</h3> <blockquote><p>https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/272</p></blockquote> <h3 id="前端项目如何找出性能瓶颈"><a href="#前端项目如何找出性能瓶颈" class="header-anchor">#</a> 前端项目如何找出性能瓶颈</h3> <blockquote><p>https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/300</p></blockquote> <h2 id="前端基建可以做哪些事情"><a href="#前端基建可以做哪些事情" class="header-anchor">#</a> 前端基建可以做哪些事情？</h2> <blockquote><p>https://juejin.cn/post/7256879435339628604</p></blockquote> <blockquote><p>来自 ChatGPT 的回答-～～ ⬇️ ⬇️ ⬇️</p></blockquote> <p>前端基建是指在前端开发过程中，为提高开发效率、代码质量和团队协作而构建的一些基础设施和工具。下面是前端基建可以做的一些事情：</p> <ol><li><p><code>脚手架工具</code>：开发和维护一个通用的脚手架工具，可以帮助团队快速初始化项目结构、配置构建工具、集成常用的开发依赖等。</p></li> <li><p><code>组件库</code>：开发和维护一个内部的组件库，包含常用的 UI 组件、业务组件等，提供给团队成员复用，减少重复开发的工作量。</p></li> <li><p><code>构建工具和打包工具</code>：搭建和维护一套完善的构建和打包工具链，包括使用 Webpack、Parcel 等工具进行代码的压缩、合并、打包等工具，优化前端资源加载和性能。</p></li> <li><p><code>自动化测试工具</code>：引入自动化测试工具，如 Jest、Mocha 等，编写和维护测试用例，进行单元测试、集成测试、UI 测试等，提高代码质量和可靠性。</p></li> <li><p><code>文档工具</code>：使用工具如 JSDoc、Swagger 等，生成项目的 API 文档、接口文档等，方便团队成员查阅和维护。</p></li> <li><p><code>Git工作流</code>：制定和规范团队的 Git 工作流程，使用版本控制工具管理代码，方便团队协作和代码回退。</p></li> <li><p><code>性能监控和优化</code>：引入性能监控工具，如 Lighthouse、Web Vitals 等，对项目进行性能分析，优化网页加载速度、响应时间等。</p></li> <li><p><code>工程化规范</code>：制定并推广团队的代码规范、目录结构规范等，提高代码的可读性、可维护性和可扩展性。</p></li> <li><p><code>持续集成和部署</code>：搭建持续集成和部署系统，如 Jenkins、Travis CI 等，实现代码的自动构建、测试和部署，提高开发效率和代码质量。</p></li> <li><p><code>项目文档和知识库</code>：建立一个内部的项目文档和知识库，记录项目的技术细节、开发经验、常见问题等，方便团队成员查阅和学习。</p></li></ol> <p>通过建立和维护前端基建，可以提高团队的协作效率，减少重复劳动，提高代码质量和项目的可维护性。</p> <p>当涉及到前端基建时，还有一些其他的事情可以考虑：</p> <ol><li><p><code>代码质量工具</code>：引入代码质量工具，如 ESLint、Prettier 等，对代码进行静态分析和格式化，提高代码的一致性和可读性。</p></li> <li><p><code>国际化支持</code>：为项目添加国际化支持，可以通过引入国际化库，如 i18next、vue-i18n 等，实现多语言的切换和管理。</p></li> <li><p><code>错误监控和日志收集</code>：引入错误监控工具，如 Sentry、Bugsnag 等，实时监控前端错误，并收集错误日志，方便进行问题排查和修复。</p></li> <li><p><code>前端性能优化工具</code>：使用工具如 WebPageTest、Chrome DevTools 等，对项目进行性能分析和优化，提高页面加载速度、响应时间等。</p></li> <li><p><code>缓存管理</code>：考虑合理利用浏览器缓存和服务端缓存，减少网络请求，提升用户访问速度和体验。</p></li> <li><p><code>移动端适配</code>：针对移动端设备，采用响应式设计或使用 CSS 媒体查询等技术，实现移动端适配，保证页面在不同尺寸的设备上有良好的显示效果。</p></li> <li><p><code>安全防护</code>：对项目进行安全审计，使用安全防护工具，如 CSP（Content Security Policy）、XSS 过滤等，保护网站免受常见的安全攻击。</p></li> <li><p><code>性能优化指标监控</code>：监控和分析关键的性能指标，如页面加载时间、首次渲染时间、交互响应时间等，以便及时发现和解决性能问题。</p></li> <li><p><code>前端日志分析</code>：使用日志分析工具，如 ELK（Elasticsearch、Logstash、Kibana）等，对前端日志进行收集和分析，了解用户行为和页面异常情况。</p></li> <li><p><code>跨平台开发</code>：考虑使用跨平台开发框架，如 React Native、Flutter 等，实现一套代码在多个平台上复用，提高开发效率。</p></li> <li><p><code>编辑器配置和插件</code>：为团队提供统一的编辑器配置文件，包括代码格式化、语法高亮、代码自动补全等，并推荐常用的编辑器插件，提高开发效率。</p></li> <li><p><code>文档生成工具</code>：使用工具如 Docusaurus、VuePress 等，为项目生成漂亮的文档网站，方便团队成员查阅和维护项目文档。</p></li> <li><p><code>Mock数据和接口管理</code>：搭建一个 Mock 服务器，用于模拟后端接口数据，方便前端开发和测试，同时可以考虑使用接口管理工具，如 Swagger 等，方便接口的定义和调试。</p></li> <li><p><code>前端监控和统计</code>：引入前端监控工具，如 Google Analytics、百度统计等，收集用户访问数据和行为信息，用于分析和优化用户体验。</p></li> <li><p><code>移动端调试工具</code>：使用工具如 Eruda、VConsole 等，帮助在移动端设备上进行调试和错误排查，提高开发效率。</p></li> <li><p><code>自动化部署</code>：配置自动化部署流程，将项目的代码自动部署到服务器或云平台，减少人工操作，提高发布效率和稳定性。</p></li> <li><p><code>前端团队协作工具</code>：使用团队协作工具，如 GitLab、Bitbucket 等，提供代码托管、项目管理、任务分配和团队沟通等功能，增强团队协作效率。</p></li> <li><p><code>前端培训和知识分享</code>：组织定期的前端培训和技术分享会，让团队成员相互学习和交流，推动技术的共享和提升。</p></li> <li><p><code>客户端性能优化</code>：针对移动端应用，可以使用工具如 React Native Performance、Weex 等，进行客户端性能优化，提高应用的响应速度和流畅度。</p></li> <li><p><code>技术选型和评估</code>：定期评估和研究前端技术的发展趋势，选择适用的技术栈和框架，以保持项目的竞争力和可持续发展。</p></li></ol> <p>以上是一些可以考虑的前端基建事项，根据项目需求和团队情况，可以选择适合的工具和技术进行实施。同时，持续关注前端领域的最新技术和工具，不断优化和改进前端基建，以提高开发效率和项目质量。</p> <p>当涉及到前端基建时，还有一些其他的事情可以考虑：</p> <ol><li><p><code>统一的状态管理</code>：引入状态管理工具，如 Redux、Vuex 等，帮助团队管理前端应用的状态，提高代码的可维护性和可扩展性。</p></li> <li><p><code>前端日志记录</code>：引入前端日志记录工具，如 log4javascript、logrocket 等，记录前端应用的运行日志，方便排查和解决问题。</p></li> <li><p><code>前端代码扫描</code>：使用静态代码扫描工具，如 SonarQube、CodeClimate 等，对前端代码进行扫描和分析，发现潜在的问题和漏洞。</p></li> <li><p><code>前端数据可视化</code>：使用数据可视化工具，如 ECharts、Chart.js 等，将数据以图表或图形的形式展示，增强数据的可理解性和可视化效果。</p></li> <li><p><code>前端容灾和故障处理</code>：制定容灾方案和故障处理流程，对前端应用进行监控和预警，及时处理和恢复故障，提高系统的可靠性和稳定性。</p></li> <li><p><code>前端安全加固</code>：对前端应用进行安全加固，如防止 XSS 攻击、CSRF 攻击、数据加密等，保护用户数据的安全性和隐私。</p></li> <li><p><code>前端版本管理</code>：建立前端代码的版本管理机制，使用工具如 Git、SVN 等，管理和追踪代码的变更，方便团队成员之间的协作和版本控制。</p></li> <li><p><code>前端数据缓存</code>：考虑使用 Local Storage、Session Storage 等技术，对一些频繁使用的数据进行缓存，提高应用的性能和用户体验。</p></li> <li><p><code>前端代码分割</code>：使用代码分割技术，如 Webpack 的动态导入（Dynamic Import），将代码按需加载，减少初始加载的资源大小，提高页面加载速度。</p></li> <li><p><code>前端性能监测工具</code>：使用性能监测工具，如 WebPageTest、GTmetrix 等，监测前端应用的性能指标，如页面加载时间、资源加载时间等，进行性能优化。</p></li></ol> <p>以上是一些可以考虑的前端基建事项，根据项目需求和团队情况，可以选择适合的工具和技术进行实施。同时，持续关注前端领域的最新技术和工具，不断优化和改进前端基建，以提高开发效率和项目质量。</p> <h2 id="monorepo-vs-multirepo"><a href="#monorepo-vs-multirepo" class="header-anchor">#</a> Monorepo vs Multirepo</h2> <p>Monorepo 的全称是 monolithic repository，即单体式仓库，与之对应的是 Multirepo(multiple repository)，这里的&quot;单&quot;和&quot;多&quot;是指每个仓库中所管理的模块数量。</p> <p>Multirepo 是比较传统的做法，即每一个 package 都单独用一个仓库来进行管理。例如：Rollup, ...</p> <p>Monorep 是把所有相关的 package 都放在一个仓库里进行管理，<strong>每个 package 独立发布</strong>。 例如：React, Angular, Babel, Jest, Umijs, Vue ...</p> <p>一图胜千言：</p> <p><img src="https://cdn.nlark.com/yuque/0/2024/png/35183778/1704881983867-2fe043db-9da8-4f5b-b0a5-a51870da56b3.png" alt=""></p> <p>当然到底哪一种管理方式更好，仁者见仁，智者见智。前者允许多元化发展（各项目可以有自己的构建工具、依赖管理策略、单元测试方法），后者希望集中管理，减少项目间的差异带来的沟通成本。</p> <p>虽然拆分子仓库、拆分子 npm 包是进行项目隔离的天然方案，但当仓库内容出现关联时，没有任何一种调试方式比源码放在一起更高效。</p> <p>结合我们项目的实际场景和业务需要，天然的 MonoRepo ! 因为工程化的最终目的是让业务开发可以 100% 聚焦在业务逻辑上，那么这不仅仅是脚手架、框架需要从自动化、设计上解决的问题，这涉及到仓库管理的设计。</p> <p>一个理想的开发环境可以抽象成这样：</p> <p>&quot;<strong>只关心业务代码，可以直接跨业务复用而不关心复用方式，调试时所有代码都在源码中。</strong>&quot;</p> <p>在前端开发环境中，多 Git Repo，多 npm 则是这个理想的阻力，它们导致复用要关心版本号，调试需要 npm link。而这些是 MonoRepo 最大的优势。</p> <p>上图中提到的利用相关工具就是今天的主角 Lerna ! Lerna 是业界知名度最高的 Monorepo 管理工具，功能完整。</p> <p><strong>单一仓库如何产出不同项目？</strong></p> <p>简要思路：</p> <ol><li><p>项目目录划分：在 packages 目录下管理需要复用的代码，如（utils 公共函数、components 公共组件、templates 公共模板、store 数据流层等），prd 目录下划分不同项目的页面文件夹</p></li> <li><p>构建参数设计：区分运行环境、执行的 prd 子项目和配置文件（如 vue.config.js）</p></li> <li><p>正确运行：通过 spawnSync 等进程执行工具运行 prd 子项目</p></li></ol> <h2 id="pnpm"><a href="#pnpm" class="header-anchor">#</a> pnpm</h2> <blockquote><p>https://pnpm.io/zh/</p></blockquote> <p>pnpm 是新一代快速的，节省磁盘空间的包管理工具</p> <ul><li>快速: pnpm is up to 2x faster than npm</li> <li>高效: node_modules 中的文件为复制或链接自特定的内容寻址存储库</li> <li>严格: pnpm 默认创建了一个非平铺的 node_modules，因此代码无法访问任意包</li></ul> <p><strong>支持 monorepos</strong> :pnpm 内置支持单仓多包</p> <p>pnpm 内置了对单一存储库（也称为多包存储库、多项目存储库或单体存储库）的支持， 你可以创建一个 <a href="https://pnpm.io/zh/workspaces" target="_blank" rel="noopener noreferrer">workspace<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 以将多个项目合并到一个仓库中。</p> <p>pnpm 版本兼容性: https://pnpm.io/zh/installation#%E5%85%BC%E5%AE%B9%E6%80%A7</p> <p>pnpm 的命令,以下是简便的 npm 命令等效列表：</p> <table><thead><tr><th>npm 命令</th> <th>pnpm 等效</th></tr></thead> <tbody><tr><td><code>npm install</code></td> <td><a href="https://pnpm.io/zh/cli/install" target="_blank" rel="noopener noreferrer"><code>pnpm install</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>npm i &lt;pkg&gt;</code></td> <td><a href="https://pnpm.io/zh/cli/add" target="_blank" rel="noopener noreferrer"><code>pnpm add &lt;pkg&gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>npm run &lt;cmd&gt;</code></td> <td><a href="https://pnpm.io/zh/cli/run" target="_blank" rel="noopener noreferrer"><code>pnpm &lt;cmd&gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>npm uninstall &lt;cmd&gt;</code></td> <td><a href="https://pnpm.io/zh/cli/remove" target="_blank" rel="noopener noreferrer"><code>pnpm remove &lt;cmd&gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h2 id="谈谈微前端"><a href="#谈谈微前端" class="header-anchor">#</a> 谈谈微前端</h2> <p>微前端就是微服务在前端的应用，也就是前端微服务.</p> <h4 id="如果使用微服务来重构整个应用有什么好处"><a href="#如果使用微服务来重构整个应用有什么好处" class="header-anchor">#</a> 如果使用微服务来重构整个应用有什么好处？</h4> <p>一个应用分解成多个服务，每个服务独自服务内部的功能。例如原来的应用有 abcd 四个页面，现在分解成两个服务，第一个服务有 ab 两个页面，第二个服务有 cd 两个页面，组合在一起就和原来的应用一样。</p> <p>当应用其中一个服务出故障时，其他服务仍可以正常访问。例如第一个服务出故障了， ab 页面将无法访问，但 cd 页面仍能正常访问。</p> <p>好处：不同的服务独立运行，服务与服务之间解耦。我们可以把服务理解成组件，就像本小书第 3 章《前端组件化》中所说的一样。每个服务可以独自管理，修改一个服务不影响整体应用的运行，只影响该服务提供的功能。</p> <p>另外在开发时也可以快速的添加、删除功能。例如电商网站，在不同的节假日时推出的活动页面，活动过后马上就可以删掉。</p> <p>难点：不容易确认服务的边界。当一个应用功能太多时，往往多个功能点之间的关联会比较深。因而就很难确定这一个功能应该归属于哪个服务。</p> <ul><li>https://woai3c.github.io/introduction-to-front-end-engineering/11.html</li></ul> <p>现在我们将使用微前端框架  <a href="https://qiankun.umijs.org/zh/guide" target="_blank" rel="noopener noreferrer">qiankun<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来构建一个微前端应用。之所以选用 qiankun 框架，是因为它有以下几个优点：</p> <ul><li><p>技术栈无关，任何技术栈的应用都能接入。</p></li> <li><p>样式隔离，子应用之间的样式互不干扰。</p></li> <li><p>子应用的 JavaScript 作用域互相隔离。</p></li> <li><p>资源预加载，在浏览器空闲时间预加载未打开的微应用资源，加速微应用打开速度。</p></li> <li><p><a href="https://github.com/woai3c/micro-frontend-demo/tree/main" target="_blank" rel="noopener noreferrer">微前端 demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="前端监控"><a href="#前端监控" class="header-anchor">#</a> 前端监控</h2> <blockquote><p>https://woai3c.github.io/introduction-to-front-end-engineering/07.html</p></blockquote> <h3 id="什么时候需要监控"><a href="#什么时候需要监控" class="header-anchor">#</a> 什么时候需要监控</h3> <ol><li>当你的应用频繁报错找不到原因的时候。(集成性能监控的探针 sdk, 收集错误信息)</li> <li>需要分析用户兴趣爱好、购买习惯。 (集成神策埋点, 收集自定义事件, 通过 PV UV 用户点击,页面跳转等事件漏斗进行统计分析)</li> <li>需要优化程序的时候，可以做监控收集数据，做针对性的优化。(集成性能监控的探针 sdk, 性能分析)</li> <li>需要保证服务可靠性稳定性。(集成性能监控的探针 sdk)</li></ol> <p>如果你的应用符合以上任意一条，就可以对应用实行监控了。监控的作用有两个：事前预警和事后分析。</p> <p>事前预警：提前设置一个阈值，当监控的数据达到阈值时，通过短信或者邮件通知管理员。例如 API 请求数量突然间暴涨，就得进行报警，否则可能会造成服务器宕机。</p> <p>事后分析：通过监控日志文件，分析故障原因和故障发生点。从而做出修改，防止这种情况再次发生。</p> <p>本章内容分为前端监控原理分析和如何对项目实行监控两个部分。第一部分是讲如何写一个简易的监控 SDK，第二部分是讲如何使用  <a href="https://docs.sentry.io/" target="_blank" rel="noopener noreferrer">sentry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>实现项目监控。</p> <p>好了，下面让我们开始进入正文吧。</p> <p>一个完整的前端监控平台包括三个部分：数据采集与上报、数据整理和存储、数据展示。</p> <p>本章要讲的就是其中的第一个环节------数据采集与上报。下图是本章要讲述内容的大纲，大家可以先大致了解一下：</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/b1503db00065b0bde7edd1b45abd1f85.png" alt="image.png"></p> <p><img src="https://img-blog.csdnimg.cn/img_convert/b35bc4f1cdd718025cf39818772ad761.png" alt="image.png"></p> <p>仅看理论知识是比较难以理解的，为此我结合本章要讲的技术要点写了一个简单的<a href="https://github.com/woai3c/monitor-demo" target="_blank" rel="noopener noreferrer">监控 SDK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，可以用它来写一些简单的 DEMO，帮助加深理解。再结合本章一起阅读，效果更好。</p> <h3 id="性能数据采集"><a href="#性能数据采集" class="header-anchor">#</a> 性能数据采集</h3> <p>chrome 开发团队提出了一系列用于检测网页性能的指标：</p> <ul><li>FP(first-paint)，从页面加载开始到第一个像素绘制到屏幕上的时间</li> <li>FCP(first-contentful-paint)，从页面加载开始到页面内容的任何部分在屏幕上完成渲染的时间</li> <li>LCP(largest-contentful-paint)，从页面加载开始到最大文本块或图像元素在屏幕上完成渲染的时间</li> <li>CLS(layout-shift)，从页面加载开始和其<a href="https://developers.google.com/web/updates/2018/07/page-lifecycle-api" target="_blank" rel="noopener noreferrer">生命周期状态<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>变为隐藏期间发生的所有意外布局偏移的累积分数</li></ul> <p>这四个性能指标都需要通过  <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceObserver" target="_blank" rel="noopener noreferrer">PerformanceObserver<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来获取（也可以通过  <code>performance.getEntriesByName()</code>  获取，但它不是在事件触发时通知的）。PerformanceObserver 是一个性能监测对象，用于监测性能度量事件。</p> <h3 id="错误数据采集"><a href="#错误数据采集" class="header-anchor">#</a> 错误数据采集</h3> <ol><li>资源加载错误: 使用 addEventListener() 监听 error 事件，可以捕获到资源加载失败错误。</li> <li>js 错误: 使用 window.onerror 可以监听 js 错误。</li> <li>promise 错误: 使用 addEventListener() 监听 unhandledrejection 事件，可以捕获到未处理的 promise 错误。</li> <li>生产报错信息还原: 使用 source-map.</li> <li>Vue 错误: 利用 window.onerror 是捕获不到 Vue 错误的，它需要使用 Vue 提供的 API 进行监听。 <code>Vue.config.errorHandler</code></li></ol> <h3 id="数据上报"><a href="#数据上报" class="header-anchor">#</a> 数据上报</h3> <p><strong>上报方法</strong></p> <p>数据上报可以使用以下几种方式：</p> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/sendBeacon" target="_blank" rel="noopener noreferrer">sendBeacon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener noreferrer">XMLHttpRequest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>image</li></ul> <p>我写的简易 SDK 采用的是第一、第二种方式相结合的方式进行上报。利用 sendBeacon 来进行上报的优势非常明显。</p> <blockquote><p>使用  <code>sendBeacon()</code>  方法会使用户代理在有机会时异步地向服务器发送数据，同时不会延迟页面的卸载或影响下一导航的载入性能。这就解决了提交分析数据时的所有的问题：数据可靠，传输异步并且不会影响下一页面的加载。</p></blockquote> <p>在不支持 sendBeacon 的浏览器下我们可以使用 XMLHttpRequest 来进行上报。一个 HTTP 请求包含发送和接收两个步骤。其实对于上报来说，我们只要确保能发出去就可以了。也就是发送成功了就行，接不接收响应无所谓。为此，我做了个实验，在 beforeunload 用 XMLHttpRequest 传送了 30kb 的数据（一般的待上报数据很少会有这么大），换了不同的浏览器，都可以成功发出去。当然，这和硬件性能、网络状态也是有关联的。</p> <p><strong>上报时机</strong></p> <p>上报时机有三种：</p> <ol><li>采用  <code>requestIdleCallback/setTimeout</code>  延时上报。</li> <li>在  <code>beforeunload()</code>  回调函数里上报。</li> <li>缓存上报数据，达到一定数量后再上报。</li></ol> <p>建议将三种方式结合一起上报：</p> <ol><li>先缓存上报数据，缓存到一定数量后，利用  <code>requestIdleCallback/setTimeout</code>  延时上报。</li> <li>在页面离开时统一将未上报的数据进行上报。</li></ol> <p><strong>上报时机代码参考</strong></p> <ul><li>https://github.com/woai3c/monitor-demo/blob/main/src/utils/report.js</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> originalOpen<span class="token punctuation">,</span> originalSend <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./xhr'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> addCache<span class="token punctuation">,</span> getCache<span class="token punctuation">,</span> clearCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./cache'</span>
<span class="token keyword">import</span> generateUniqueID <span class="token keyword">from</span> <span class="token string">'../utils/generateUniqueID'</span>
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">'../config'</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">isSupportSendBeacon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>window<span class="token punctuation">.</span>navigator<span class="token operator">?.</span>sendBeacon
<span class="token punctuation">}</span>

<span class="token keyword">const</span> sendBeacon <span class="token operator">=</span> <span class="token function">isSupportSendBeacon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">sendBeacon</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>navigator<span class="token punctuation">)</span> <span class="token operator">:</span> reportWithXHR

<span class="token keyword">const</span> sessionID <span class="token operator">=</span> <span class="token function">generateUniqueID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">report</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> isImmediate <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>config<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'请设置上传 url 地址'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> reportData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> sessionID<span class="token punctuation">,</span>
    <span class="token literal-property property">appID</span><span class="token operator">:</span> config<span class="token punctuation">.</span>appID<span class="token punctuation">,</span>
    <span class="token literal-property property">userID</span><span class="token operator">:</span> config<span class="token punctuation">.</span>userID<span class="token punctuation">,</span>
    data
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isImmediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">sendBeacon</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>url<span class="token punctuation">,</span> reportData<span class="token punctuation">)</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>requestIdleCallback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">sendBeacon</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>url<span class="token punctuation">,</span> reportData<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">3000</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">sendBeacon</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>url<span class="token punctuation">,</span> reportData<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">lazyReportCache</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> timeout <span class="token operator">=</span> <span class="token number">3000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">addCache</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

  <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
  timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">getCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">report</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token function">clearCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">reportWithXHR</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">originalOpen</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> <span class="token string">'post'</span><span class="token punctuation">,</span> config<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
  <span class="token function">originalSend</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="前端监控部署"><a href="#前端监控部署" class="header-anchor">#</a> 前端监控部署</h3> <p>前面说的都是监控原理，但要实现还是得自己动手写代码。为了避免麻烦，我们可以用现有的工具  <a href="https://docs.sentry.io/" target="_blank" rel="noopener noreferrer">sentry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>去做这件事。</p> <p>sentry 是一个用 python 写的性能和错误监控工具，你可以使用 sentry 提供的服务（免费功能少），也可以自己部署服务.</p> <h2 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h2> <p>轻量级、高性能的 Web 服务器，在现今的大型应用、网站基本都离不开 Nginx，已经成为了一项必选的技术；其实可以把它理解成 <strong>入口网关</strong>，这里我举个例子可能更好理解:</p> <blockquote><p>当你去银行办理业务时，刚走进银行，需要到入门处的机器排队取号，然后按指令到对应的柜台办理业务，或者也有可能告诉你，今天不能排号了，回家吧！</p> <p>这样一个场景中，<strong>取号机器就是 Nginx(入口网关)</strong>。一个个柜台就是我们的业务服务器(办理业务)；银行中的保险箱就是我们的数据库(存取数据)；🤣</p></blockquote> <p><a href="https://github.com/xd-tayde/blog/blob/master/images/interview/10.png" target="_blank" rel="noopener noreferrer"><img src="https://github.com/xd-tayde/blog/raw/master/images/interview/10.png" alt=""><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p><strong>特点</strong>:</p> <ul><li>轻量级，配置方便灵活，无侵入性；</li> <li>占用内存少，启动快，性能好；</li> <li>高并发，事件驱动，异步；</li> <li>热部署，修改配置热生效；</li></ul></li> <li><p><strong>架构模型</strong>:</p> <ul><li>基于 <strong>socket 与 Linux epoll (I/O 事件通知机制)</strong>，实现了 <strong>高并发</strong>；
<ul><li>使用模块化、事件通知、回调函数、计时器、轮询实现非阻塞的异步模式；</li> <li>磁盘不足的情况，可能会导致阻塞；</li></ul></li> <li><strong>Master-worker 进程模式</strong>:
<ul><li>Nginx 启动时会在内存中常驻一个 <strong>Master 主进程</strong>，功能:
<ul><li>读取配置文件；</li> <li>创建、绑定、关闭 socket；</li> <li>启动、维护、配置 worker 进程；</li> <li>编译脚本、打开日志；</li></ul></li> <li>master 进程会开启配置数量的 <strong>worker 进程</strong>，比如根据 CPU 核数等:
<ul><li>利用 socket 监听连接，不会新开进程或线程，节约了创建与销毁进程的成本；</li> <li>检查网络、存储，把新连接加入到轮询队列中，异步处理；</li> <li>能有效利用 cpu 多核，并避免了线程切换和锁等待；</li></ul></li></ul></li> <li><strong>热部署模式</strong>:
<ul><li>当我们修改配置热重启后，master 进程会以新的配置新创建 worker 进程，新连接会全部交给新进程处理；</li> <li>老的 worker 进程会在处理完之前的连接后被 kill 掉，逐步全替换成新配置的 worker 进程；</li></ul></li></ul></li> <li><p><strong>配置</strong>:</p> <ul><li><p>官网下载；</p></li> <li><p>配置文件路径： <code>/usr/local/etc/nginx/nginx.conf</code>；</p></li> <li><p>启动: 终端输入 <code>nginx</code>，访问 <code>localhost:8080</code> 就能看到 <code>Welcome...</code>；</p></li> <li><p><code>nginx -s stop</code>: 停止服务；</p></li> <li><p><code>nginx -s reload</code>: 热重启服务；</p></li> <li><p>配置代理: <code>proxy_pass</code></p> <ul><li>在配置文件中配置即可完成；</li></ul> <div class="language-source-js extra-class"><pre class="language-text"><code> server {
     listen 80;
     location / {
         proxy_pass http://xxx.xxx.xx.xx:3000;
     }
 }
</code></pre></div></li></ul></li> <li><p><strong>常用场景</strong>:</p> <ul><li><p><strong>代理</strong>:</p> <ul><li>其实 Nginx 可以算一层 <strong>代理服务器</strong>，将客户端的请求处理一层后，再转发到业务服务器，这里可以分成两种类型，其实实质就是 <strong>请求的转发</strong>，使用 Nginx 非常合适、高效；</li></ul></li> <li><p><strong>正向代理</strong>:</p> <ul><li>即用户通过访问这层正向代理服务器，再由代理服务器去到原始服务器请求内容后，再返回给用户；</li> <li>例如我们常使用的 VPN 就是一种常见的正向代理模式。通常我们无法直接访问谷歌服务器，但是通过访问一台国外的服务器，再由这台服务器去请求谷歌返回给用户，用户即可访问谷歌；</li> <li><strong>特点</strong>:
<ul><li>代理服务器属于 <strong>客户端层</strong>，称之为正向代理；</li> <li>代理服务器是 <strong>为用户服务</strong>，对于用户是透明的，用户知道自己访问代理服务器；</li> <li>对内容服务器来说是 <strong>隐藏</strong> 的，内容服务器并无法分清访问是来自用户或者代理；<a href="https://github.com/xd-tayde/blog/blob/master/images/interview/11.png" target="_blank" rel="noopener noreferrer"><img src="https://github.com/xd-tayde/blog/raw/master/images/interview/11.png" alt=""><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></li> <li><p><strong>反向代理</strong>:</p> <ul><li>用户访问头条的反向代理网关，通过网关的一层处理和调度后，再由网关将访问转发到内部的服务器上，返回内容给用户；</li> <li><strong>特点</strong>:
<ul><li>代理服务器属于 <strong>服务端层</strong>，因此称为反向代理。通常代理服务器与内部内容服务器会隶属于同一内网或者集群；</li> <li>代理服务器是 <strong>为内容服务器服务</strong> 的，对用户是隐藏的，用户不清楚自己访问的具体是哪台内部服务器；</li> <li>能有效保证内部服务器的 <strong>稳定与安全</strong>；<a href="https://github.com/xd-tayde/blog/blob/master/images/interview/12.png" target="_blank" rel="noopener noreferrer"><img src="https://github.com/xd-tayde/blog/raw/master/images/interview/12.png" alt=""><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></li> <li><p><strong>反向代理的好处</strong>:</p> <ul><li><strong>安全与权限</strong>:
<ul><li>用户访问必须通过反向代理服务器，也就是便可以在做这层做统一的请求校验，过滤拦截不合法、危险的请求，从而就能更好的保证服务器的安全与稳定；</li></ul></li> <li><strong>负载均衡</strong>: 能有效分配流量，最大化集群的稳定性，保证用户的访问质量；</li></ul></li> <li><p><strong>负载均衡</strong>:</p> <ul><li>负载均衡是基于反向代理下实现的一种 <strong>流量分配</strong> 功能，目的是为了达到服务器资源的充分利用，以及更快的访问响应；</li> <li>其实很好理解，还是以上面银行的例子来看: <strong>通过门口的取号器，系统就可以根据每个柜台的业务排队情况进行用户的分，使每个柜台都保持在一个比较高效的运作状态，避免出现分配不均的情况</strong>；</li> <li>由于用户并不知道内部服务器中的队列情况，而反向代理服务器是清楚的，因此通过 Nginx，便能很简单地实现流量的均衡分配；</li> <li>Nginx 实现: <code>Upstream</code>模块， 这样当用户访问 <code>http://xxx</code> 时，流量便会被按照一定的规则分配到<code>upstream</code>中的3台服务器上；</li></ul> <div class="language-source-js extra-class"><pre class="language-text"><code> http {
     upstream xxx {
         server 1.1.1.1:3001;
         server 2.2.2.2:3001;
         server 3.3.3.3:3001;
     }
     server {
         listen 8080;
         location / {
             proxy_pass http://xxx;
         }
     }
 }
</code></pre></div><ul><li><p><strong>分配策略</strong>:</p> <ul><li><p><strong>服务器权重(<code>weight</code>)</strong>:</p> <ul><li>可以为每台服务器配置访问权重，传入参数<code>weight</code>，例如:</li></ul> <div class="language-source-js extra-class"><pre class="language-text"><code>  upstream xxx {
     server 1.1.1.1:3001 weight=1;
     server 2.2.2.2:3001 weight=1;
     server 3.3.3.3:3001 weight=8;
 }
</code></pre></div></li> <li><p><strong>时间顺序(默认)</strong>: 按用户的访问的顺序逐一的分配到正常运行的服务器上；</p></li> <li><p><strong>连接数优先(<code>least_conn</code>)</strong>: 优先将访问分配到列表中连接数队列最短的服务器上；</p></li> <li><p><strong>响应时间优先(<code>fair</code>)</strong>: 优先将访问分配到列表中访问响应时间最短的服务器上；</p></li> <li><p><strong>ip_hash</strong>: 通过 ip_hash 指定，使每个 ip 用户都访问固定的服务器上，有利于用户特异性数据的缓存，例如本地 session 服务等；</p></li> <li><p><strong>url_hash</strong>: 通过 url_hash 指定，使每个 url 都分配到固定的服务器上，有利于缓存；</p></li></ul></li></ul></li> <li><p><strong>Nginx 对于前端的作用</strong>:</p> <ul><li><strong>1. 快速配置静态服务器</strong>，当访问 <code>localhost:80</code> 时，就会默认访问到 <code>/Users/files/index.html</code>；</li></ul> <div class="language-source-js extra-class"><pre class="language-text"><code> server {
 	listen 80;
 	server_name localhost;

 	location / {
 		root   /Users/files;
 		index  index.html;
 	}
 }
</code></pre></div><ul><li><strong>2. 访问限制</strong>: 可以制定一系列的规则进行访问的控制，例如直接通过 ip 限制:</li></ul> <div class="language-source-js extra-class"><pre class="language-text"><code> # 屏蔽 192.168.1.1 的访问；
 # 允许 192.168.1.2 ~ 10 的访问；
 location / {
     deny  192.168.1.1;
     allow 192.168.1.2/10;
     deny  all;
 }
</code></pre></div><ul><li><strong>3. 解决跨域</strong>: 其实跨域是 <strong>浏览器的安全策略</strong>，这意味着只要不是通过浏览器，就可以绕开跨域的问题。所以只要通过在同域下启动一个 Nginx 服务，转发请求即可；</li></ul> <div class="language-source-js extra-class"><pre class="language-text"><code> location ^~/api/ {
		 # 重写请求并代理到对应域名下
     rewrite ^/api/(.*)$ /$1 break;
     proxy_pass https://www.cross-target.com/;
 }
</code></pre></div><ul><li><p><strong>4. 图片处理</strong>: 通过 ngx_http_image_filter_module 这个模块，可以作为一层图片服务器的代理，在访问的时候 <strong>对图片进行特定的操作，例如裁剪，旋转，压缩等</strong>；</p></li> <li><p><strong>5. 本地代理，绕过白名单限制</strong>: 例如我们在接入一些第三方服务时经常会有一些域名白名单的限制，如果我们在本地通过<code>localhost</code>进行开发，便无法完成功能。这里我们可以做一层本地代理，便可以直接通过指定域名访问本地开发环境；</p></li></ul> <div class="language-source-js extra-class"><pre class="language-text"><code> server {
 listen 80;
 server_name www.toutiao.com;

 location / {
     proxy_pass http://localhost:3000;
 }
}
</code></pre></div></li></ul></li></ul> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://woai3c.gitee.io/introduction-to-front-end-engineering/" target="_blank" rel="noopener noreferrer">一本小书《带你入门前端工程》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>https://github.com/xd-tayde/blog/blob/master/interview-3.md</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/yanyue404/fe-attitude/edit/master/site/fe/engineering.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/30/2025, 10:42:45 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/fe-attitude/assets/js/app.f3bd0e5c.js" defer></script><script src="/fe-attitude/assets/js/2.f587624f.js" defer></script><script src="/fe-attitude/assets/js/10.45a251b1.js" defer></script>
  </body>
</html>
