<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script type="text/javascript">
      // 冒泡排序
      // 冒泡排序的原理如下:
      // 从第一个元素开始，把当前元素和下一个元素进行比较。如果当前元素大，那么就交换位置，重复操作直到比较到最后一个元素，那么此时(一轮结束后)最后一个元素就是该数组中最大的数
      // 下一轮重复以上操作，但是此时最后一个元素已经是最大数了，所以不需要再比较最后一个元素，只需要比较到 length - 1 -i  的位置
      function bubble(array) {
        for (let i = 0; i < array.length - 1; i++) {
          console.log('第' + (i + 1) + '轮开始')
          let flag = true
          // 从 0 到 `length - 1` 遍历
          for (let j = 0; j < array.length - 1 - i; j++) {
            if (array[j] > array[j + 1]) {
              flag = false
              ;[array[j], array[j + 1]] = [array[j + 1], array[j]]
              console.log('第' + (j + 1) + '次：' + array.toString(array))
            }
          }
          if (flag) {
            console.log('第' + (i + 1) + '轮后数据结束变化更新')
            break
          }
        }
        return array
      }

      console.log(bubble([3, 2, 1, 4, 8, 6, 7]))
      // 第1轮开始
      // 第1次：2,3,1,4,8,6,7
      // 第2次：2,1,3,4,8,6,7
      // 第5次：2,1,3,4,6,8,7
      // 第6次：2,1,3,4,6,7,8
      // 第2轮开始
      // 第1次：1,2,3,4,6,7,8
      // 第3轮开始
      // 第3轮后数据结束变化更新

      // 时间复杂度是 O(n * n)
    </script>
  </body>
</html>
