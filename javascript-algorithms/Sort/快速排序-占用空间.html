<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>
    <script src="./common.js"></script>
    <script>
      // http://www.ruanyifeng.com/blog/2011/04/quicksort_in_javascript.html
      // 快排
      // 快排的原理如下：
      //  第一步，选择中间的元素作为"基准", 在原有的数组中把它移除。（基准值可以任意选择，但是选择中间的值比较容易理解。）
      //  第二步，按照顺序，将每个元素与"基准"进行比较，形成两个子集，一个"小于基准"，另一个"大于基准"。
      //  第三步，对两个子集不断重复第一步和第二步，直到所有子集只剩下一个元素为止。
      function quickSort(arr) {
        if (arr.length <= 1) {
          return arr //递归出⼝
        }
        var pivotIndex = Math.floor(arr.length / 2)
        // 取出基准值
        var pivot = arr.splice(pivotIndex, 1)[0]
        var left = []
        var right = []
        for (var i = 0; i < arr.length; i++) {
          if (arr[i] < pivot) {
            left.push(arr[i])
          } else {
            right.push(arr[i])
          }
        }
        return quickSort(left).concat(pivot, quickSort(right))
      }
      // 该算法的复杂度和归并排序是相同的，但是额外空间复杂度比归并排序少，只需 O(logN)，并且相比归并排序来说，所需的常数时间也更少。
      console.log(quickSort([3, 2, 1, 4, 8, 6, 7]))
    </script>
  </body>
</html>
